(function(a){function o(d){function h(){b.parent.removeClass(g.extraClass).hide().css("opacity","")}if(a.tooltip.blocked)return;if(e)clearTimeout(e);c=null;var g=i(this);if((!f||!a.fn.bgiframe)&&g.fade){if(b.parent.is(":animated"))b.parent.stop().fadeTo(g.fade,0,h);else b.parent.stop().fadeOut(g.fade,h)}else h();if(i(this).fixPNG)b.parent.unfixPNG()}function n(){return{x:a(window).scrollLeft(),y:a(window).scrollTop(),cx:a(window).width(),cy:a(window).height()}}function m(d){if(a.tooltip.blocked)return;if(d&&d.target.tagName=="OPTION"){return}if(!g&&b.parent.is(":visible")){a(document.body).unbind("mousemove",m)}if(c==null){a(document.body).unbind("mousemove",m);return}b.parent.removeClass("viewport-right").removeClass("viewport-bottom");var e=b.parent[0].offsetLeft;var f=b.parent[0].offsetTop;if(d){e=d.pageX+i(c).left;f=d.pageY+i(c).top;var h="auto";if(i(c).positionLeft){h=a(window).width()-e;e="auto"}b.parent.css({left:e,right:h,top:f})}var j=n(),k=b.parent[0];if(j.x+j.cx<k.offsetLeft+k.offsetWidth){e-=k.offsetWidth+20+i(c).left;b.parent.css({left:e+"px"}).addClass("viewport-right")}if(j.y+j.cy<k.offsetTop+k.offsetHeight){f-=k.offsetHeight+20+i(c).top;b.parent.css({top:f+"px"}).addClass("viewport-bottom")}}function l(){e=null;if((!f||!a.fn.bgiframe)&&i(c).fade){if(b.parent.is(":animated"))b.parent.stop().show().fadeTo(i(c).fade,c.tOpacity);else b.parent.is(":visible")?b.parent.fadeTo(i(c).fade,c.tOpacity):b.parent.fadeIn(i(c).fade)}else{b.parent.show()}m()}function k(){if(a.tooltip.blocked||this==c||!this.tooltipText&&!i(this).bodyHandler)return;c=this;d=this.tooltipText;if(i(this).bodyHandler){var e=i(this).bodyHandler.call(this);if(e.nodeType||e.jquery){b.body.empty().append(e)}else{b.body.html(e)}b.body.show()}else if(i(this).showBody){var f=d.split(i(this).showBody);b.body.empty();for(var g=0,h;h=f[g];g++){if(g>0)b.body.append("");b.body.append(h)}b.body.hideWhenEmpty()}else{b.body.hide()}if(i(this).showURL&&a(this).url())b.url.html(a(this).url().replace("http://","")).show();else b.url.hide();b.parent.addClass(i(this).extraClass);if(i(this).fixPNG)b.parent.fixPNG();j.apply(this,arguments)}function j(a){if(i(this).delay)e=setTimeout(l,i(this).delay);else l();g=!!i(this).track;m(a)}function i(b){return a.data(b,"tooltip")}function h(c){if(b.parent)return;b.parent=a('<div id="'+c.id+'"><div class="body"></div><div class="url"></div></div>').appendTo(document.body).hide();if(a.fn.bgiframe)b.parent.bgiframe();b.body=a("div.body",b.parent);b.url=a("div.url",b.parent)}var b={},c,d,e,f=a.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),g=false;a.tooltip={blocked:false,defaults:{delay:200,fade:false,showURL:true,extraClass:"",top:15,left:15,id:"tooltip"},block:function(){a.tooltip.blocked=!a.tooltip.blocked}};a.fn.extend({tooltip:function(c){c=a.extend({},a.tooltip.defaults,c);h(c);return this.each(function(){a.data(this,"tooltip",c);this.tOpacity=b.parent.css("opacity");this.tooltipText=this.title;a(this).removeAttr("title");this.alt=""}).click(k).dblclick(o)},fixPNG:f?function(){return this.each(function(){var b=a(this).css("backgroundImage");if(b.match(/^url\(["']?(.*\.png)["']?\)$/i)){b=RegExp.$1;a(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+b+"')"}).each(function(){var b=a(this).css("position");if(b!="absolute"&&b!="relative")a(this).css("position","relative")})}})}:function(){return this},unfixPNG:f?function(){return this.each(function(){a(this).css({filter:"",backgroundImage:""})})}:function(){return this},hideWhenEmpty:function(){return this.each(function(){a(this)[a(this).html()?"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}})})(jQuery)